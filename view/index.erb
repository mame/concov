<% if @error %>
<h1>concov error: <%=h @error %></h1>
<% else %>
<div id="header">
  <h1><%= @logo %></h1>
  <table class="guide">
    <tr><th>date</th><td class="date"><%= @desc_date %></td></tr>
    <tr><th>path</th><td class="path"><%= @desc_path %></td></tr>
<%   if @filter %>
    <tr>
      <th>filter</th>
      <td>
        <select id="filter">
<%     @filter.each do |uri, title, selected| %>
<%        selected = selected ? %( selected="selected") : "" %>
          <option value="<%=h uri %>"<%= selected %>><%=h title %></option>
<%     end %>
        </select>
      </td>
    </tr>
<%   end %>
<%   if @chart %>
      <%= @chart %>
<%   end %>
  </table>
<%   if Concov::Config.header_html %>
      <%= Concov::Config.header_html %>
<%   end %>
</div>
<div id="content">
  <ul class="view-tabs">
<%   @tabs.each do |tab| %>
    <li><%= tab %></li>
<%   end %>
  </ul>
<%   case @view %>
<%   when Concov::DayView, Concov::WeekView, Concov::DiffView %>
<%     if @path_type != :file %>
<%= render_view(:list).gsub(/^/, "  ") %>
<%     else %>
<%= render_view(:code).gsub(/^/, "  ") %>
<%     end %>
<%   when Concov::ChangesView %>
<%= render_view(:changes).gsub(/^/, "  ") %>
<%   when Concov::ChartView %>
<%= render_view(:chart).gsub(/^/, "  ") %>
<%   end %>
</div>
<div id="footer">
<%   if Concov::Config.footer_html %>
<%= Concov::Config.footer_html.gsub(/^/, "  ") << "\n" %>
<%   end %>
  <p class="generator">Generated by concov <%=h Concov::VERSION %></p>
  <p class="acknowledge">
    Powered by
        ruby <%=h RUBY_VERSION %>
      / Ramaze <%=h Ramaze::VERSION %>
<%   Concov::Coverage.acknowledge do |lib| %>
      / <%=h lib.chomp %>
<%   end %>
  </p>
  <p class="elapsed">
    Rendering time: <%=h "%.3f" % (Time.now - @start_time).to_f %> sec.
  </p>
</div>
<% end %>
